<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <link href="../libs/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
</head>

<body>

    <center></center>

    <script src="../libs/d3.v3.min.js"></script>
    <script src="../libs/olca.utils.js"></script>
    <script>
        function setData(input) {
                
            // remove old content
            d3.select("center").select("svg").remove();
            
            var width = 750,
                height = 600,
                color = d3.scale.category20c();
            
            var treemap = d3.layout.treemap()
                .size([width, height])
                .padding(4)
                .sticky(true);
            
            var svg = d3.select("center").append("svg")
                .attr("width", width)
                .attr("height", height)
                .append("g");
            
            var cell = svg.data([input]).selectAll("g")
                .data(treemap.nodes)
                .enter()
                .append("g")
                .attr("class", "cell");
            
            cell.append("title")
                .text(function(d) { 
                    return d.name; 
                });

            cell.append("rect")
                .attr("x", function(d){return d.x;})
                .attr("y", function(d){return d.y;})
                .attr("width", function(d) { return d.dx; })
                .attr("height", function(d) { return d.dy; })
                .style("fill", function(d) { return color(d.name); });            
         }
    </script>
</body>